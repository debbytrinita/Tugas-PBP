{% extends 'base.html' %}
{% block meta %}
<title>Todolist</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
<style>
    .card{
        margin: 2%;
        text-align: center;
    }
    .footer{
        position: fixed;
    }
</style>
{% endblock meta %}
{% block content %}
<nav class="navbar navbar-light px-4 mb-3" style="background-color:#93a9d1;">
    <span class="navbar-text mb-0 h5" style="color: white;">{{username}}</span>
    <h3 style="color: white; text-align: center; margin-left: 12%;">Todolist</h3>
    <div class="btn-group" role="group">
        <form method="post" action="{% url 'todolist:add_new_task' %}" >
            {% csrf_token %}
            <button class="btn btn-primary me-1 navbar-btn" type="submit" name="add_new_task">
                Add New Task
            </button>
        </form>
        <form action="{% url 'todolist:logout' %}" method="post" >
            {% csrf_token %}
            <button type="submit" class="btn btn-danger navbar-btn">Logout</button>
        </form>
    </div>
</nav>

    {% comment %} Tambahkan data di bawah baris ini {% endcomment %}
    
    {% for todolist in data_todolist%}
    <div class = "container rounded h-100 d-flex flex-column justify-content-center align-items-center">
        <div class="card " style="width:23rem;">
            <div class="card-body">
                <h5 class="card-title">{{todolist.title}}</h5>
                <small class="card-subtitle mb-2 text-muted">{{todolist.date}}</small>
                <p class="card-text">{{todolist.description}}</p>
            </div>
      </div>
    </div>
    {% endfor %}

<br>
<footer>
    <small>Sesi terakhir login: {{ last_login }}</small>
</footer>
{% endblock content %}

